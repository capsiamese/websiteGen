---
title: "Kafka With Go"
date: 2022-12-03T14:30:02+08:00
draft: true
tags: ["golang", "mq"]
---

# Introduction to kafka

Kafka是一种基于Pub/Sub模式的消息队列(Message Queue), 消息队列是一种存放消息的队列
主要用来帮助两种不同的服务间通信.

组成消息队列的结构中通常由Producer, Message Queue, Consumer组成.

* Producer负责生产消息的服务
* Consumer负责消费消息的服务
* MQ负责存放生产消息的队列

消息队列有两种模式

* 点对点模式, 消费者主动拉取消息, 收到后把消息删掉, 一个消息只能给一个消费者使用.
* 发布订阅模式, 多个消费者订阅某个主题, 消费者会主动拉取队列, 好处是可以根据自己的速度消费消息, 
坏处是没法及时获取消息, 需要不断的轮询, 这种模式下消费者消费完后不清除消息, 而是等待消息过期后自动删掉.

使用MQ的有点:
1. 服务解耦
2. 请求变成异步
3. 缓冲请求
4. 放到队列中保证顺序, 高并发时很好处理
